<!DOCTYPE html>
<html>
<head>
  <!-- Standard Meta -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <!-- Site Properties -->
  <title>Botapad</title>

<!--
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.7/semantic.min.css">
    <script src="https://cdn.jsdelivr.net/semantic-ui/2.2.7/semantic.min.js"></script>
-->

    <link rel="stylesheet" href="static/Semantic-UI-CSS-master/semantic.min.css">

  <style type="text/css">
    
    .ui.inverted.segment {
        background: #12AAAA;
    }

    .masthead.segment {
      min-height: 700px;
      padding: 1em 0em;
    }
    .masthead .logo.item img {
      margin-right: 1em;
    }
    .masthead .ui.menu .ui.button {
      margin-left: 0.5em;
    }
    .masthead h1.ui.header {
      margin-top: 1em;
      margin-bottom: 0em;
      font-size: 4em;
      font-weight: normal;
    }
    .masthead h2 {
      font-size: 1.7em;
      font-weight: normal;
      padding-bottom: 1em;
    }

    .ui.vertical.stripe {
      padding: 4em 0em;
    }
    .ui.vertical.stripe h3 {
      font-size: 2em;
    }
    .ui.vertical.stripe .button + h3,
    .ui.vertical.stripe p + h3 {
      margin-top: 3em;
    }
    .ui.vertical.stripe .floated.image {
      clear: both;
    }
    .ui.vertical.stripe p {
      font-size: 1.33em;
    }
    .ui.vertical.stripe .horizontal.divider {
      margin: 3em 0em;
    }

    .quote.stripe.segment {
      padding: 0em;
    }
    .quote.stripe.segment .grid .column {
      padding-top: 5em;
      padding-bottom: 5em;
    }

    .footer.segment {
      padding: 5em 0em;
    }

    @media only screen and (max-width: 700px) {
      .ui.fixed.menu {
        display: none !important;
      }
      .secondary.pointing.menu .item,
      .secondary.pointing.menu .menu {
        display: none;
      }
      .secondary.pointing.menu .toc.item {
        display: block;
      }
      .masthead.segment {
        min-height: 350px;
      }
      .masthead h1.ui.header {
        font-size: 2em;
        margin-top: 1.5em;
      }
      .masthead h2 {
        margin-top: 0.5em;
        font-size: 1.5em;
      }
    }

    a.inverted { color:white;}

    iframe {
        border: none;
        }

    pre {
        background: darkcyan;
        padding: 6px;
        margin: 0px 30px 10px 0px;
    }

    form .ui.checkbox label {
        font-size: 24px;
        padding-left: 24px;
        color: white;
    }

    form h3 {
        margin-top: 2px
    }

    input[type=checkbox]
    {
      /* Double-sized Checkboxes */
      -ms-transform: scale(2); /* IE */
      -moz-transform: scale(2); /* FF */
      -webkit-transform: scale(2); /* Safari and Chrome */
      -o-transform: scale(2); /* Opera */
      padding: 10px;
    }
  </style>

</head>
<body>




<!-- Page Contents -->
<div class="pusher">
    
  <div class="ui inverted vertical masthead center aligned segment">

    <div class="ui text container">
      <h1 class="ui inverted header">
        padagraph.io
      </h1>
      <h2>Open a pad and a graph will follow </h2>
    </div>



    
      {% if readme %}
    <div class="ui  left aligned text container">
      <h4 class="ui inverted  horizontal divider">
        readme
      </h4>
      {% filter markdown %}
            {{readme}}
      {% endfilter %}
    </div>

    
    
      {% elif promote %}
    <h4 class="ui hidden divider"></h4>

    <div class="ui  left aligned text container">
    
      <h5 class="ui inverted  horizontal divider">
        <i class="icon announcement"></i>    Call for participation ! ({{ promote.count }})
      </h5>

      <table class="ui compact single line table">
      <thead>
        <tr>
          <th>date</th>
          <th>pad url</th>
          <th>graph</th>
        </tr>
      </thead>
      <tbody>
         {% for item in promote.rows %}
        <tr>
          <td>{{ item.date }}{{ item.time }}</td>
          <td><a href="{{ item.padurl}}" target="_blank">{{ item.padurl }}</a></td>
          <td><a href="{{ item.graph_url}}" target="_blank">{{ item.gid }}</a></td>
        </tr>
        {% endfor %}
      </tbody>
      </table>
    </div>

    
    
      {% elif stats %}
    <div class="ui  left aligned text container">
      <h4 class="ui inverted  horizontal divider">
        stats
      </h4>
      <div class="ui inverted three statistics">
          <div class="statistic">
            <div class="value"> {{stats.success }} </div>
            <div class="label"> imported </div>
          </div>   
          <div class="statistic">
            <div class="value"> {{ stats.fails }} </div>
            <div class="label"> fails </div>
          </div>   
          <div class="statistic">
            <div class="value">{{ stats.tries  }} </div>
            <div class="label"> tries </div>
          </div>   
      </div>   

    </div>

    <h4 class="ui hidden divider"></h4>

    <div class="ui  left aligned container">
      <h5 class="ui inverted  horizontal divider">
        rows
      </h5>

      <table class="ui compact single line table">
      <thead>
        <tr>
          <th>date</th>
          <th>pad url</th>
          <th>graph</th>
          <th class="center aligned">promote</th>
          <th class="center aligned">status</th>
        </tr>
      </thead>
      <tbody>
         {% for item in stats.rows %}
        <tr class="{% if not item.status %}error{% endif %}">
          <td>{{ item.date }}{{ item.time }}</td>
          <td><a href="{{ item.padurl}}" target="_blank">{{ item.padurl }}</a></td>
          <td><a href="{{ item.graph_url}}" target="_blank">{{ item.gid }}</a></td>
          <td class="center aligned">{% if item.help %}<i class="icon announcement"></i>{% endif %}</td>
          <td class="center aligned" >{% if item.status %}<i class="icon checkmark"></i>{%else%}<i class="icon close">{% endif %}</td>
        </tr>
        {% endfor %}
      </tbody>
      </table>
    </div>

    
 
      {% elif complete and not fail  %}
    <div class="ui container">
      <h4 class="ui inverted  horizontal divider">
        Import complete
      </h4>
      <p>  
<!--
      <a class="" href="{{url}}"><img src='{{img}}'/></a>
      <br/>  
-->
      <div class="ui inverted link list">
        <a class="active item" href="{{padurl}}">Imported from {{padurl}}</a>
      </div>
      <iframe src="{{iframe}}" width=100% height=600 ></iframe>
      <br/>  
      <div class="ui inverted link list">
        <a class="active item" href="{{graphurl}}">Visit {{graphurl}}</a>
      </div>
      </p>

    </div>

    
      {% elif error %}
    <div class="ui text container">
      <div class="ui icon  message">
          <i class="cloud download icon"></i>
          <div class="content">
            <div class="header">
                Import error
            </div>

            {% if error.class == "BotapadURLError" %}
            <ul class="list">
              <li>Can't download document at <a href='{{error.url}}'>{{error.url}}</a></li>
            </ul>
            <h4>URL is malformed or website may not respond ... </h4>
            
            {% elif error.class == "BotapadCsvError" %}
            <ul class="list">
              <Li>Parsing data failed in {{error.path}}</Li>
              <Li>we used the character <code>{{error.separator}}</code> as a separator</Li>
            </ul>

            {% elif error.class == "BotapadError" %}
            <ul class="list">
              <li>{{error.message}}</li>l
              <Li>{{error.class}} </Li>
            </ul>
            {%endif%}
            <a href="/" class="item">Back </a></Li>
        </div>
      </div>
      
    </div>

    
      {% else %}
    <div class="ui text container">
      <h4 class="ui inverted  horizontal divider">
        Usage
      </h4>
      
      <h3 class="ui inverted header">Choose a name and fill the pad url</h3>

      <form class="ui form" method="post" action="import">
        <div class="field">
          <div class="ui huge input">
            <input type="text" name="gid" placeholder="graph name">
          </div>
        </div>
        <div class="field">
          <div class="ui huge input">
            <input type="text" name="url" placeholder="pad url">
          </div>
        </div>
        <div class="field center aligned">
              <input type="checkbox" tabindex="0" name="promote">
              <h3>Promote this pad, call for participants </h3>
        </div>
        <div class="field center aligned">
          <a class="ui large button" href="/readme">readme</a>
          <button type="submit" value="Subscribe" class="ui huge primary submit button">
            Import this pad
          </button>

        </div>
      </form>

    </div>
     
     {% endif%}

  </div>



      



  <div class="ui inverted vertical footer segment">
      <h4 class="ui inverted  horizontal divider"> &nbsp;  </h4>
    <div class="ui container">
      <div class="ui stackable inverted equal height grid">

        <div class="three wide column">
          <h4 class="ui inverted header">About</h4>
          <div class="ui inverted link list">
            <a href="#" class="item">You are here</a>
            <a href="#" class="item">Contact Us</a>
          </div>
        </div>
        
        <div class="four wide column">
          <h4 class="ui inverted header">Services</h4>
          <div class="ui inverted link list">
            <a href="import" class="active item">Import a pad</a>
            <a href="promote" class="active item">Call for participation</a>
            <a href="stats" class="active item">Service statistiqs</a>
          </div>
        </div>
        
        <div class="three wide column">
          <h4 class="ui inverted header">Next </h4>
          <div class="ui inverted link list">
          <a class="active item"  href="https://github.com/padagraph/botapadd">Github</a>
          <a class="item" href="" >donate</a>
          </div>
        </div>
        
        <div class="three wide column">
          <h4 class="ui inverted header">&nbsp;</h4>
          <div class="ui inverted link list">
            
          <a class="active item" href="//padagraph.io" >padagraph.io</a>
          @2017
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
